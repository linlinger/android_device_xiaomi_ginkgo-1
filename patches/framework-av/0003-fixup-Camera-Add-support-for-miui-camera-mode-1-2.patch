From f169fb20f5e5de676a647bbe7317f4a935d17631 Mon Sep 17 00:00:00 2001
From: tejas101k <tejassingh649@rediffmail.com>
Date: Fri, 12 Apr 2024 08:25:26 +0000
Subject: [PATCH 3/3] fixup! Camera: Add support for miui camera mode [1/2] *
 Adapt for Android 14 QPR2

Signed-off-by: tejas101k <tejassingh649@rediffmail.com>
Signed-off-by: Edwiin Kusuma Jaya <kutemeikito0905@gmail.com>
---
 services/camera/libcameraservice/CameraService.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/services/camera/libcameraservice/CameraService.cpp b/services/camera/libcameraservice/CameraService.cpp
index 3118d78b04..22f40d6950 100644
--- a/services/camera/libcameraservice/CameraService.cpp
+++ b/services/camera/libcameraservice/CameraService.cpp
@@ -4323,7 +4323,7 @@ status_t CameraService::BasicClient::startCameraOps() {
 
 #ifdef USES_MIUI_CAMERA
     // Configure miui camera mode
-    if (strcmp(String8(mClientPackageName).string(), "com.android.camera") == 0) {
+    if (String8(mClientPackageName.c_str()) == "com.android.camera") {
         SetProperty("sys.camera.miui.apk", "1");
         ALOGI("Enabling miui camera mode");
     } else {
-- 
2.46.0

